<!DOCTYPE html>
<html>
  <head>

    <p>Params: <%= params.inspect %></p>
    <p><%= current_user ? "sesssion[:user_id] is #{session[:user_id]}" : "No user in session" %></p>
    <p>@user - <%= @user.inspect if @user %></p>
    <p>@users - <%= @users.inspect if @users %></p>
    <p>@project - <%= @project.inspect if @project %></p>
    <p>@projects - <%= @projects.inspect if @projects %></p>

    <title>RailsProjectManager</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

  </head>

  <body>

    <%= content_tag(:div, flash[:error], :id => "flash_error") if flash[:error] %>
    <%= content_tag(:div, flash[:notice], :id => "flash_notice") if flash[:notice] %>
    <%= content_tag(:div, flash[:alert], :id => "flash_alert") if flash[:alert] %>

    <h1>Welcome to Rails Project Manager!</h1>
    <% if current_user %>
      <%= link_to 'Log Out', logout_path, method: 'post' %><br>
      <%= link_to 'Projects Index', projects_path %>
    <% elsif current_page?(controller: 'application', action: 'hello') %>
      <%= link_to 'Log In', login_path %> or <%= link_to 'Sign Up', new_user_path %>
    <% elsif current_page?(controller: 'sessions', action: 'new') || current_page?(controller: 'sessions', action: 'create') %>
      <%= link_to 'Sign Up', new_user_path %>
    <% else %>
      <%= link_to 'Log In', login_path %>
    <% end %>

    <%= yield %>
  </body>
</html>
